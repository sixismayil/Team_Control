<div class="container-fluid d-flex justify-content-center px-5" style="padding-bottom: 100px" [ngClass]="{'d-none':showSpinner}">
    <div class="new-position row col-lg-4 col-12">
        <div class="col-12 d-flex justify-content-between align-items-center">
            <h1 class="tc-label">
                Şifrənin dəyişdirilməsi
            </h1>
        </div>
        <form class="col-lg-12 col-12 row" [formGroup]="passwordForm">
            <div class="col-12">
                <span class="form-label">Cari şifrə:</span>
                <mat-form-field class="example-full-width" appearance="fill">
                    <input matInput [type]="hideCurrentPassword ? 'password' : 'text'" formControlName="currentPassword">
                    <button mat-icon-button matSuffix (click)="hideCurrentPassword = !hideCurrentPassword" [attr.aria-label]="'Hide password'" [attr.aria-pressed]="hideCurrentPassword">
                      <mat-icon>{{hideCurrentPassword ? 'visibility_off' : 'visibility'}}</mat-icon>
                    </button>
                </mat-form-field>
                <div class="row col-5 justify-content-center" *ngIf="passwordForm.controls.currentPassword.invalid && (passwordForm.controls.currentPassword.dirty || passwordForm.controls.currentPassword.touched )">
                    <div class="text-danger text-nowrap" *ngIf="passwordForm.controls.currentPassword.errors">
                        Cari şifrə boş ola bilməz.
                    </div>
                </div>
            </div>
            <div class="col-12">
                <span class="form-label">Yeni şifrə:</span>
                <mat-form-field class="example-full-width" appearance="fill">
                    <input matInput matInput [type]="hideNewPasswords ? 'password' : 'text'" formControlName="password">
                    <button mat-icon-button matSuffix (click)="hideNewPasswords = !hideNewPasswords" [attr.aria-label]="'Hide password'" [attr.aria-pressed]="hideNewPasswords">
                      <mat-icon>{{hideNewPasswords ? 'visibility_off' : 'visibility'}}</mat-icon>
                    </button>
                </mat-form-field>
                <div class="row col-5 justify-content-center" *ngIf="passwordForm.invalid && (passwordForm.controls.password.dirty || passwordForm.controls.password.touched )">
                    <div class="text-danger" *ngIf="passwordForm.controls.password.errors">
                        Şifrə boş ola bilməz.
                    </div>
                </div>
            </div>
            <div class="col-12">
                <span class="form-label">Yeni şifrənin təkrarı:</span>
                <mat-form-field class="example-full-width" appearance="fill">
                    <input matInput [type]="hideNewPasswords ? 'password' : 'text'" formControlName="confirmPassword">
                </mat-form-field>
                <div class="col-5 justify-content-center" *ngIf="passwordForm.invalid && (passwordForm.controls.confirmPassword.dirty || passwordForm.controls.confirmPassword.touched )">
                    <div class="text-danger" *ngIf="passwordForm.controls.confirmPassword.errors">
                        Şifrə boş ola bilməz.
                    </div>
                    <div class="text-danger" *ngIf="passwordForm.errors?.notmatched">
                        Şifrələr uyğun gəlmir.
                    </div>
                </div>
            </div>
            <div class="col-12 d-flex justify-content-center justify-content-lg-end mt-3">
                <button (click)="update_password()" mat-button class="filter-btn" type="submit">Yadda saxla</button>
            </div>
        </form>
    </div>
</div>
<div class="spinner-div" style="position: absolute; top: 50%; left: 50%" *ngIf="showSpinner">
    <mat-spinner [diameter]="40" class="spinner">
    </mat-spinner>
</div>
